<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>The Hangar — Faith Based Pilot</title>
  <style>
    body { margin:0; padding:0; font-family:Arial,sans-serif; background:#111; color:#fff; }
    body.light { background:#fff; color:#000; }

    /* Full-width header with inner bar */
    header { background:#1a1a1a; padding:0; }
    body.light header { background:#f0f0f0; }
    header .bar {
      max-width:1100px; margin:0 auto; padding:1rem 2rem;
      display:flex; justify-content:center; align-items:center;
      position:relative; padding-right:calc(2rem + 32px + 8px);
    }

    nav { display:flex; gap:1.5rem; flex-wrap:wrap; }
    nav a { color:inherit; text-decoration:none; font-weight:bold; font-size:1rem; }

    #themeToggle {
      width:32px; height:32px; cursor:pointer;
      position:absolute; right:2rem; top:1rem;
      filter:invert(1); transition:filter .3s ease;
    }
    body.light #themeToggle { filter:invert(0); }

    .wrap { max-width:1100px; margin:0 auto; padding:0 16px; }
    h1 { text-align:center; margin:2rem 0 .25rem; }
    .lede { text-align:center; color:#bbb; margin:0 0 1.5rem; }

    .grid { display:grid; grid-template-columns:1fr; gap:18px; }
    @media (min-width:1024px){ .grid { grid-template-columns:repeat(3,1fr); } }

    details.card {
      border:1px solid rgba(255,255,255,.18);
      border-radius:12px; background:rgba(255,255,255,.03);
      overflow:hidden;
    }
    body.light details.card { border-color:#e2e2e2; background:#fff; }

    details.card > summary {
      list-style:none; outline:none; cursor:pointer;
      padding:14px; display:flex; flex-direction:column; gap:6px;
    }
    details.card > summary::-webkit-details-marker { display:none; }

    .title { font-weight:700; line-height:1.3; }
    .meta { font-size:.85rem; opacity:.75; }
    .chev { margin-left:auto; font-weight:700; opacity:.65; }

    .content {
      padding:14px; border-top:1px solid rgba(255,255,255,.12);
    }
    body.light .content { border-top-color:#eee; }
    .content p { margin:.5rem 0; line-height:1.55; }
    .content a { color:#4da3ff; font-weight:bold; text-decoration:none; }
    .thumb { width:100%; height:auto; border-radius:8px; margin-bottom:.6rem; display:block; }

    .footer { text-align:center; padding:1.5rem; color:gray; font-size:.85rem; }

    @media (max-width:600px){
      nav { gap:1rem; }
      nav a { font-size:.9rem; }
      header .bar { padding:1rem; padding-right:calc(1rem + 32px + 6px); }
    }

    /* ===== Modal overlay for full-screen post view ===== */
    .modal {
      position: fixed; inset: 0;
      display: none;
      align-items: center; justify-content: center;
      background: rgba(0,0,0,.6);
      z-index: 10000;
    }
    .modal.open { display: flex; }

    .modal .sheet{
      width: min(920px, 94vw);
      max-height: 92vh;
      overflow: auto;
      background: #1b1b1b; color: inherit;
      border: 1px solid rgba(255,255,255,.18);
      border-radius: 12px; padding: 20px;
      box-shadow: 0 10px 40px rgba(0,0,0,.6);
    }
    body.light .modal .sheet { background:#fff; border-color:#e2e2e2; }

    .modal .close {
      position: sticky; top: 0; float: right;
      border: 1px solid rgba(255,255,255,.25);
      background: transparent; color: inherit;
      font-size: 20px; line-height: 1; padding: 6px 10px;
      border-radius: 8px; cursor: pointer;
    }
    body.light .modal .close { border-color:#ddd; }

    .modal h2 { margin: 0 0 .25rem; }
    .modal .meta { font-size:.9rem; opacity:.75; margin-bottom: .75rem; }

    /* Share bar */
    .sharebar {
      display:flex; flex-wrap:wrap; gap:10px;
      border-top:1px solid rgba(255,255,255,.12);
      margin-top: 1rem; padding-top: .75rem;
    }
    body.light .sharebar { border-top-color:#eee; }
    .sharebar button, .sharebar a {
      border:1px solid rgba(255,255,255,.25);
      background:transparent; color:inherit;
      padding:6px 10px; border-radius:8px;
      cursor:pointer; text-decoration:none; font-size:.95rem;
    }
    body.light .sharebar button, body.light .sharebar a { border-color:#ddd; }
    .sharebar .copy-ok { font-size:.85rem; opacity:.75; }
  </style>
</head>
<body>
  <header>
    <div class="bar">
      <nav>
        <a href="beliefs.html">Beliefs</a>
        <a href="logbook.html">Logbook</a>
        <a href="the-hangar.html">The Hangar</a>
        <a href="thehangar.html">The Hangar 2</a>
        <a href="https://faithbasedpilot.net" target="_blank">Videos</a>
      </nav>
      <img id="themeToggle" src="images/theme-toggle-logo.png" alt="Toggle Theme">
    </div>
  </header>

  <main class="wrap">
    <h1>The Hangar</h1>
    <p class="lede">Click a card to read. Desktop: 3 columns · Mobile/iPad: 1 column (opens full-screen).</p>

    <section class="grid">

      <details class="card" id="post-the-strength-of-a-servant-killing-pride-and-leading-low" data-slug="the-strength-of-a-servant-killing-pride-and-leading-low" data-title="The Strength of a Servant: Killing Pride and Leading Low" data-date="May 26, 2025">
        <summary>
          <div class="title">The Strength of a Servant: Killing Pride and Leading Low</div>
          <div class="meta">May 26, 2025 <span class="chev">▾</span></div>
        </summary>
        <div class="content">
          <!-- <img class="thumb" src="images/the-strength-of-a-servant-killing-pride-and-leading-low.jpg" alt=""> -->
          <!-- Writing content goes here -->
        </div>
      </details>
    
      <details class="card" id="post-slave-to-christ" data-slug="slave-to-christ" data-title="Slave to Christ" data-date="May 26, 2025">
        <summary>
          <div class="title">Slave to Christ</div>
          <div class="meta">May 26, 2025 <span class="chev">▾</span></div>
        </summary>
        <div class="content">
          <!-- <img class="thumb" src="images/slave-to-christ.jpg" alt=""> -->
          <!-- Writing content goes here -->
        </div>
      </details>
    
      <details class="card" id="post-separated-to-reunite" data-slug="separated-to-reunite" data-title="Separated to Reunite" data-date="May 24, 2025">
        <summary>
          <div class="title">Separated to Reunite</div>
          <div class="meta">May 24, 2025 <span class="chev">▾</span></div>
        </summary>
        <div class="content">
          <!-- <img class="thumb" src="images/separated-to-reunite.jpg" alt=""> -->
          <!-- Writing content goes here -->
        </div>
      </details>
    
      <details class="card" id="post-the-raven-and-the-dove" data-slug="the-raven-and-the-dove" data-title="The Raven and the Dove" data-date="May 18, 2025">
        <summary>
          <div class="title">The Raven and the Dove</div>
          <div class="meta">May 18, 2025 <span class="chev">▾</span></div>
        </summary>
        <div class="content">
          <!-- <img class="thumb" src="images/the-raven-and-the-dove.jpg" alt=""> -->
          <!-- Writing content goes here -->
        </div>
      </details>
    
      <details class="card" id="post-stand-firm-a-call-to-integrity-and-biblical-morals" data-slug="stand-firm-a-call-to-integrity-and-biblical-morals" data-title="Stand Firm: A Call to Integrity and Biblical Morals" data-date="December 23, 2024">
        <summary>
          <div class="title">Stand Firm: A Call to Integrity and Biblical Morals</div>
          <div class="meta">December 23, 2024 <span class="chev">▾</span></div>
        </summary>
        <div class="content">
          <!-- <img class="thumb" src="images/stand-firm-a-call-to-integrity-and-biblical-morals.jpg" alt=""> -->
          <!-- Writing content goes here -->
        </div>
      </details>
    
      <details class="card" id="post-the-manna-from-heaven-and-the-gift-of-christmas-a-profound-call" data-slug="the-manna-from-heaven-and-the-gift-of-christmas-a-profound-call" data-title="The Manna from Heaven and the Gift of Christmas: A Profound Call" data-date="December 23, 2024">
        <summary>
          <div class="title">The Manna from Heaven and the Gift of Christmas: A Profound Call</div>
          <div class="meta">December 23, 2024 <span class="chev">▾</span></div>
        </summary>
        <div class="content">
          <!-- <img class="thumb" src="images/the-manna-from-heaven-and-the-gift-of-christmas-a-profound-call.jpg" alt=""> -->
          <!-- Writing content goes here -->
        </div>
      </details>
    
      <details class="card" id="post-hello-let-s-talk-about-your-car-s-extended-warranty" data-slug="hello-let-s-talk-about-your-car-s-extended-warranty" data-title="Hello, Let’s Talk About Your Car’s Extended Warranty" data-date="December 18, 2024">
        <summary>
          <div class="title">Hello, Let’s Talk About Your Car’s Extended Warranty</div>
          <div class="meta">December 18, 2024 <span class="chev">▾</span></div>
        </summary>
        <div class="content">
          <!-- <img class="thumb" src="images/hello-let-s-talk-about-your-car-s-extended-warranty.jpg" alt=""> -->
          <!-- Writing content goes here -->
        </div>
      </details>
    
      <details class="card" id="post-the-spiritual-dangers-of-halloween" data-slug="the-spiritual-dangers-of-halloween" data-title="The Spiritual Dangers of Halloween" data-date="October 18, 2024">
        <summary>
          <div class="title">The Spiritual Dangers of Halloween</div>
          <div class="meta">October 18, 2024 <span class="chev">▾</span></div>
        </summary>
        <div class="content">
          <!-- <img class="thumb" src="images/the-spiritual-dangers-of-halloween.jpg" alt=""> -->
          <!-- Writing content goes here -->
        </div>
      </details>
    
      <details class="card" id="post-do-not-stop-do-not-drop-and-do-not-roll" data-slug="do-not-stop-do-not-drop-and-do-not-roll" data-title="Do Not Stop, Do Not Drop, and Do Not Roll" data-date="October 16, 2024">
        <summary>
          <div class="title">Do Not Stop, Do Not Drop, and Do Not Roll</div>
          <div class="meta">October 16, 2024 <span class="chev">▾</span></div>
        </summary>
        <div class="content">
          <!-- <img class="thumb" src="images/do-not-stop-do-not-drop-and-do-not-roll.jpg" alt=""> -->
          <!-- Writing content goes here -->
        </div>
      </details>
    
      <details class="card" id="post-tuning-out-the-noise" data-slug="tuning-out-the-noise" data-title="Tuning Out the Noise" data-date="October 14, 2024">
        <summary>
          <div class="title">Tuning Out the Noise</div>
          <div class="meta">October 14, 2024 <span class="chev">▾</span></div>
        </summary>
        <div class="content">
          <!-- <img class="thumb" src="images/tuning-out-the-noise.jpg" alt=""> -->
          <!-- Writing content goes here -->
        </div>
      </details>
    
      <details class="card" id="post-position-lights-and-the-christian-walk" data-slug="position-lights-and-the-christian-walk" data-title="✈️ Position Lights and the Christian Walk" data-date="August 27, 2024">
        <summary>
          <div class="title">✈️ Position Lights and the Christian Walk</div>
          <div class="meta">August 27, 2024 <span class="chev">▾</span></div>
        </summary>
        <div class="content">
          <!-- <img class="thumb" src="images/position-lights-and-the-christian-walk.jpg" alt=""> -->
          <!-- Writing content goes here -->
        </div>
      </details>
    
      <details class="card" id="post-when-help-is-refused-faith-based-guidance-for-the-unreachable" data-slug="when-help-is-refused-faith-based-guidance-for-the-unreachable" data-title="When Help is Refused: Faith-Based Guidance for the Unreachable" data-date="August 12, 2024">
        <summary>
          <div class="title">When Help is Refused: Faith-Based Guidance for the Unreachable</div>
          <div class="meta">August 12, 2024 <span class="chev">▾</span></div>
        </summary>
        <div class="content">
          <!-- <img class="thumb" src="images/when-help-is-refused-faith-based-guidance-for-the-unreachable.jpg" alt=""> -->
          <!-- Writing content goes here -->
        </div>
      </details>
    
      <details class="card" id="post-true-confidence-vs-false-security" data-slug="true-confidence-vs-false-security" data-title="True Confidence vs. False Security" data-date="July 18, 2024">
        <summary>
          <div class="title">True Confidence vs. False Security</div>
          <div class="meta">July 18, 2024 <span class="chev">▾</span></div>
        </summary>
        <div class="content">
          <!-- <img class="thumb" src="images/true-confidence-vs-false-security.jpg" alt=""> -->
          <!-- Writing content goes here -->
        </div>
      </details>
    
      <details class="card" id="post-tolerance-and-faith-how-to-walk-in-today-s-world" data-slug="tolerance-and-faith-how-to-walk-in-today-s-world" data-title="Tolerance and Faith: How to Walk in Today’s World" data-date="July 18, 2024">
        <summary>
          <div class="title">Tolerance and Faith: How to Walk in Today’s World</div>
          <div class="meta">July 18, 2024 <span class="chev">▾</span></div>
        </summary>
        <div class="content">
          <!-- <img class="thumb" src="images/tolerance-and-faith-how-to-walk-in-today-s-world.jpg" alt=""> -->
          <!-- Writing content goes here -->
        </div>
      </details>
    
      <details class="card" id="post-god-won-t-give-you-anything-he-can-t-handle" data-slug="god-won-t-give-you-anything-he-can-t-handle" data-title="God Won't Give You Anything He Can't Handle" data-date="July 15, 2024">
        <summary>
          <div class="title">God Won't Give You Anything He Can't Handle</div>
          <div class="meta">July 15, 2024 <span class="chev">▾</span></div>
        </summary>
        <div class="content">
          <!-- <img class="thumb" src="images/god-won-t-give-you-anything-he-can-t-handle.jpg" alt=""> -->
          <!-- Writing content goes here -->
        </div>
      </details>
    
      <details class="card" id="post-soft-society-hard-truths-undone-culture" data-slug="soft-society-hard-truths-undone-culture" data-title="Soft Society, Hard Truths: Undone Culture" data-date="May 7, 2024">
        <summary>
          <div class="title">Soft Society, Hard Truths: Undone Culture</div>
          <div class="meta">May 7, 2024 <span class="chev">▾</span></div>
        </summary>
        <div class="content">
          <!-- <img class="thumb" src="images/soft-society-hard-truths-undone-culture.jpg" alt=""> -->
          <!-- Writing content goes here -->
        </div>
      </details>
    
      <details class="card" id="post-faith-strength-courage-community" data-slug="faith-strength-courage-community" data-title="Faith: Strength, Courage, Community" data-date="April 29, 2024">
        <summary>
          <div class="title">Faith: Strength, Courage, Community</div>
          <div class="meta">April 29, 2024 <span class="chev">▾</span></div>
        </summary>
        <div class="content">
          <!-- <img class="thumb" src="images/faith-strength-courage-community.jpg" alt=""> -->
          <!-- Writing content goes here -->
        </div>
      </details>
    
      <details class="card" id="post-patience" data-slug="patience" data-title="Patience" data-date="April 24, 2024">
        <summary>
          <div class="title">Patience</div>
          <div class="meta">April 24, 2024 <span class="chev">▾</span></div>
        </summary>
        <div class="content">
          <!-- <img class="thumb" src="images/patience.jpg" alt=""> -->
          <!-- Writing content goes here -->
        </div>
      </details>
    
      <details class="card" id="post-mark-driscoll-guest-speaker-kicked-off-the-stage" data-slug="mark-driscoll-guest-speaker-kicked-off-the-stage" data-title="Mark Driscoll, Guest Speaker, Kicked Off the Stage" data-date="April 17, 2024">
        <summary>
          <div class="title">Mark Driscoll, Guest Speaker, Kicked Off the Stage</div>
          <div class="meta">April 17, 2024 <span class="chev">▾</span></div>
        </summary>
        <div class="content">
          <!-- <img class="thumb" src="images/mark-driscoll-guest-speaker-kicked-off-the-stage.jpg" alt=""> -->
          <!-- Writing content goes here -->
        </div>
      </details>
    
      <details class="card" id="post-7-deadly-sins" data-slug="7-deadly-sins" data-title="7 Deadly Sins" data-date="March 25, 2024">
        <summary>
          <div class="title">7 Deadly Sins</div>
          <div class="meta">March 25, 2024 <span class="chev">▾</span></div>
        </summary>
        <div class="content">
          <!-- <img class="thumb" src="images/7-deadly-sins.jpg" alt=""> -->
          <!-- Writing content goes here -->
        </div>
      </details>
    
      <details class="card" id="post-discerning-the-divine-understanding-the-voice-of-god" data-slug="discerning-the-divine-understanding-the-voice-of-god" data-title="Discerning the Divine: Understanding the Voice of God" data-date="March 5, 2024">
        <summary>
          <div class="title">Discerning the Divine: Understanding the Voice of God</div>
          <div class="meta">March 5, 2024 <span class="chev">▾</span></div>
        </summary>
        <div class="content">
          <!-- <img class="thumb" src="images/discerning-the-divine-understanding-the-voice-of-god.jpg" alt=""> -->
          <!-- Writing content goes here -->
        </div>
      </details>
    
      <details class="card" id="post-the-dynamic-dialogue-conscience-and-the-holy-spirit" data-slug="the-dynamic-dialogue-conscience-and-the-holy-spirit" data-title="The Dynamic Dialogue: Conscience and the Holy Spirit" data-date="March 4, 2024">
        <summary>
          <div class="title">The Dynamic Dialogue: Conscience and the Holy Spirit</div>
          <div class="meta">March 4, 2024 <span class="chev">▾</span></div>
        </summary>
        <div class="content">
          <!-- <img class="thumb" src="images/the-dynamic-dialogue-conscience-and-the-holy-spirit.jpg" alt=""> -->
          <!-- Writing content goes here -->
        </div>
      </details>
    
      <details class="card" id="post-growing-good-fruit-reflecting-on-spiritual-transformation" data-slug="growing-good-fruit-reflecting-on-spiritual-transformation" data-title="Growing Good Fruit: Reflecting on Spiritual Transformation" data-date="February 8, 2024">
        <summary>
          <div class="title">Growing Good Fruit: Reflecting on Spiritual Transformation</div>
          <div class="meta">February 8, 2024 <span class="chev">▾</span></div>
        </summary>
        <div class="content">
          <!-- <img class="thumb" src="images/growing-good-fruit-reflecting-on-spiritual-transformation.jpg" alt=""> -->
          <!-- Writing content goes here -->
        </div>
      </details>
    
      <details class="card" id="post-a-call-to-fortitude-reflecting-on-generational-strength" data-slug="a-call-to-fortitude-reflecting-on-generational-strength" data-title="A Call to Fortitude: Reflecting on Generational Strength" data-date="January 3, 2024">
        <summary>
          <div class="title">A Call to Fortitude: Reflecting on Generational Strength</div>
          <div class="meta">January 3, 2024 <span class="chev">▾</span></div>
        </summary>
        <div class="content">
          <!-- <img class="thumb" src="images/a-call-to-fortitude-reflecting-on-generational-strength.jpg" alt=""> -->
          <!-- Writing content goes here -->
        </div>
      </details>
    
      <details class="card" id="post-the-unyielding-path-of-a-christian-challenging-the-status-quo" data-slug="the-unyielding-path-of-a-christian-challenging-the-status-quo" data-title="The Unyielding Path of a Christian: Challenging the Status Quo" data-date="January 3, 2024">
        <summary>
          <div class="title">The Unyielding Path of a Christian: Challenging the Status Quo</div>
          <div class="meta">January 3, 2024 <span class="chev">▾</span></div>
        </summary>
        <div class="content">
          <!-- <img class="thumb" src="images/the-unyielding-path-of-a-christian-challenging-the-status-quo.jpg" alt=""> -->
          <!-- Writing content goes here -->
        </div>
      </details>
    
      <details class="card" id="post-unspoken-facing-the-uncomfortable-truths" data-slug="unspoken-facing-the-uncomfortable-truths" data-title="Unspoken: Facing the Uncomfortable Truths" data-date="December 31, 2023">
        <summary>
          <div class="title">Unspoken: Facing the Uncomfortable Truths</div>
          <div class="meta">December 31, 2023 <span class="chev">▾</span></div>
        </summary>
        <div class="content">
          <!-- <img class="thumb" src="images/unspoken-facing-the-uncomfortable-truths.jpg" alt=""> -->
          <!-- Writing content goes here -->
        </div>
      </details>
    
      <details class="card" id="post-unapologetically-christian" data-slug="unapologetically-christian" data-title="Unapologetically Christian" data-date="December 29, 2023">
        <summary>
          <div class="title">Unapologetically Christian</div>
          <div class="meta">December 29, 2023 <span class="chev">▾</span></div>
        </summary>
        <div class="content">
          <!-- <img class="thumb" src="images/unapologetically-christian.jpg" alt=""> -->
          <!-- Writing content goes here -->
        </div>
      </details>
    
      <details class="card" id="post-trusting-god-amidst-jezebel-s-tactics" data-slug="trusting-god-amidst-jezebel-s-tactics" data-title="Trusting God Amidst Jezebel's Tactics" data-date="December 19, 2023">
        <summary>
          <div class="title">Trusting God Amidst Jezebel's Tactics</div>
          <div class="meta">December 19, 2023 <span class="chev">▾</span></div>
        </summary>
        <div class="content">
          <!-- <img class="thumb" src="images/trusting-god-amidst-jezebel-s-tactics.jpg" alt=""> -->
          <!-- Writing content goes here -->
        </div>
      </details>
    
      <details class="card" id="post-defending-the-spirit" data-slug="defending-the-spirit" data-title="Defending the Spirit" data-date="December 11, 2023">
        <summary>
          <div class="title">Defending the Spirit</div>
          <div class="meta">December 11, 2023 <span class="chev">▾</span></div>
        </summary>
        <div class="content">
          <!-- <img class="thumb" src="images/defending-the-spirit.jpg" alt=""> -->
          <!-- Writing content goes here -->
        </div>
      </details>
    
      <details class="card" id="post-guidance-and-asking-for-help" data-slug="guidance-and-asking-for-help" data-title="Guidance and Asking for Help" data-date="December 11, 2023">
        <summary>
          <div class="title">Guidance and Asking for Help</div>
          <div class="meta">December 11, 2023 <span class="chev">▾</span></div>
        </summary>
        <div class="content">
          <!-- <img class="thumb" src="images/guidance-and-asking-for-help.jpg" alt=""> -->
          <!-- Writing content goes here -->
        </div>
      </details>
    
      <details class="card" id="post-christmas" data-slug="christmas" data-title="Christmas" data-date="December 4, 2023">
        <summary>
          <div class="title">Christmas</div>
          <div class="meta">December 4, 2023 <span class="chev">▾</span></div>
        </summary>
        <div class="content">
          <!-- <img class="thumb" src="images/christmas.jpg" alt=""> -->
          <!-- Writing content goes here -->
        </div>
      </details>
    
      <details class="card" id="post-guilt-shame" data-slug="guilt-shame" data-title="Guilt & Shame" data-date="November 27, 2023">
        <summary>
          <div class="title">Guilt & Shame</div>
          <div class="meta">November 27, 2023 <span class="chev">▾</span></div>
        </summary>
        <div class="content">
          <!-- <img class="thumb" src="images/guilt-shame.jpg" alt=""> -->
          <!-- Writing content goes here -->
        </div>
      </details>
    
      <details class="card" id="post-jesus-freak" data-slug="jesus-freak" data-title="Jesus Freak" data-date="November 20, 2023">
        <summary>
          <div class="title">Jesus Freak</div>
          <div class="meta">November 20, 2023 <span class="chev">▾</span></div>
        </summary>
        <div class="content">
          <!-- <img class="thumb" src="images/jesus-freak.jpg" alt=""> -->
          <!-- Writing content goes here -->
        </div>
      </details>
    
      <details class="card" id="post-faith-and-forgiveness" data-slug="faith-and-forgiveness" data-title="Faith and Forgiveness" data-date="November 13, 2023">
        <summary>
          <div class="title">Faith and Forgiveness</div>
          <div class="meta">November 13, 2023 <span class="chev">▾</span></div>
        </summary>
        <div class="content">
          <!-- <img class="thumb" src="images/faith-and-forgiveness.jpg" alt=""> -->
          <!-- Writing content goes here -->
        </div>
      </details>
    
      <details class="card" id="post-who-are-you" data-slug="who-are-you" data-title="Who Are You?" data-date="November 6, 2023">
        <summary>
          <div class="title">Who Are You?</div>
          <div class="meta">November 6, 2023 <span class="chev">▾</span></div>
        </summary>
        <div class="content">
          <!-- <img class="thumb" src="images/who-are-you.jpg" alt=""> -->
          <!-- Writing content goes here -->
        </div>
      </details>
    
      <details class="card" id="post-god-will-strengthen-and-free-you" data-slug="god-will-strengthen-and-free-you" data-title="God Will Strengthen and Free You" data-date="November 5, 2023">
        <summary>
          <div class="title">God Will Strengthen and Free You</div>
          <div class="meta">November 5, 2023 <span class="chev">▾</span></div>
        </summary>
        <div class="content">
          <!-- <img class="thumb" src="images/god-will-strengthen-and-free-you.jpg" alt=""> -->
          <!-- Writing content goes here -->
        </div>
      </details>
    
    </section>
  </main>

  <!-- Full-screen modal -->
  <div id="postModal" class="modal" aria-hidden="true" role="dialog" aria-modal="true">
    <div class="sheet">
      <button class="close" aria-label="Close">×</button>
      <h2 id="modalTitle"></h2>
      <div id="modalMeta" class="meta"></div>
      <div id="modalBody"></div>

      <div class="sharebar">
        <button id="btnWebShare" type="button">Share…</button>
        <a id="btnCopyLink" href="#" role="button">Copy link</a>
        <a id="btnFacebook" href="#" target="_blank" rel="noopener">Facebook</a>
        <a id="btnX" href="#" target="_blank" rel="noopener">X</a>
        <a id="btnEmail" href="#" target="_blank" rel="noopener">Email</a>
        <a id="btnSMS" href="#" target="_blank" rel="noopener">SMS</a>
        <span id="copyStatus" class="copy-ok" aria-live="polite"></span>
      </div>
    </div>
  </div>

  <footer class="footer">
    <p>© <span id="year">2022</span> Faith Based Pilot</p>
  </footer>

  <script>
  (function () {
    // Theme toggle
    const body = document.body;
    const toggleEl = document.getElementById('themeToggle');
    const saved = localStorage.getItem('theme');
    if (saved === 'light') body.classList.add('light');
    function toggleTheme() {
      body.classList.toggle('light');
      localStorage.setItem('theme', body.classList.contains('light') ? 'light' : 'dark');
    }
    toggleEl.addEventListener('click', toggleTheme);
    toggleEl.setAttribute('role','button');
    toggleEl.setAttribute('aria-label','Toggle color theme');
    toggleEl.setAttribute('tabindex','0');
    toggleEl.addEventListener('keydown', e => { if (e.key==='Enter'||e.key===' ') { e.preventDefault(); toggleTheme(); } });

    // Modal behavior (desktop + mobile) + share
    const modal = document.getElementById('postModal');
    const modalTitle = document.getElementById('modalTitle');
    const modalMeta  = document.getElementById('modalMeta');
    const modalBody  = document.getElementById('modalBody');
    const closeBtn   = modal.querySelector('.close');
    const btnWebShare = document.getElementById('btnWebShare');
    const btnCopyLink = document.getElementById('btnCopyLink');
    const btnFacebook = document.getElementById('btnFacebook');
    const btnX        = document.getElementById('btnX');
    const btnEmail    = document.getElementById('btnEmail');
    const btnSMS      = document.getElementById('btnSMS');
    const copyStatus  = document.getElementById('copyStatus');
    let lastTrigger = null;
    let currentSlug = null;

    function buildShareURL(slug) {
      const url = new URL(window.location.href);
      url.searchParams.set('post', slug);
      url.hash = '';
      return url.toString();
    }

    function updateShareLinks(title, date, slug) {
      const shareUrl = buildShareURL(slug);
      const text = title + (date ? ' — ' + date : '');

      // Web Share API
      btnWebShare.onclick = async () => {
        if (navigator.share) {
          try {
            await navigator.share({ title: title, text: text, url: shareUrl });
          } catch(e) {}
        } else {
          // Fallback: copy link
          try {
            await navigator.clipboard.writeText(shareUrl);
            copyStatus.textContent = 'Link copied';
            setTimeout(() => copyStatus.textContent = '', 2000);
          } catch(e) {}
        }
      };

      // Copy Link
      btnCopyLink.onclick = async (e) => {
        e.preventDefault();
        try {
          await navigator.clipboard.writeText(shareUrl);
          copyStatus.textContent = 'Link copied';
          setTimeout(() => copyStatus.textContent = '', 2000);
        } catch(e) {}
      };

      // Facebook sharer
      btnFacebook.href = "https://www.facebook.com/sharer/sharer.php?u=" + encodeURIComponent(shareUrl);

      // X (Twitter)
      btnX.href = "https://twitter.com/intent/tweet?text=" + encodeURIComponent(text) + "&url=" + encodeURIComponent(shareUrl);

      // Email
      btnEmail.href = "mailto:?subject=" + encodeURIComponent(title) + "&body=" + encodeURIComponent(text + "\n\n" + shareUrl);

      // SMS (may vary by device)
      btnSMS.href = "sms:?&body=" + encodeURIComponent(text + " " + shareUrl);
    }

    function openFromCard(card) {
      const summary = card.querySelector('summary');
      const title = summary.querySelector('.title')?.textContent?.trim() || '';
      const metaEl = summary.querySelector('.meta');
      let date = '';
      if (metaEl) {
        date = Array.from(metaEl.childNodes).filter(n => n.nodeType === Node.TEXT_NODE)
                    .map(n => n.nodeValue.trim()).join(' ').trim();
      }
      const contentHTML = card.querySelector('.content')?.innerHTML || '';
      const slug = card.getAttribute('data-slug') || '';

      modalTitle.textContent = title;
      modalMeta.textContent  = date;
      modalBody.innerHTML    = contentHTML;

      modal.classList.add('open');
      document.body.style.overflow = 'hidden';
      lastTrigger = summary;
      currentSlug = slug;

      // push state for deep link
      const shareUrl = buildShareURL(slug);
      history.pushState({ post: slug }, '', shareUrl);

      updateShareLinks(title, date, slug);
    }

    // Attach click to all cards
    document.querySelectorAll('details.card > summary').forEach(summary => {
      summary.addEventListener('click', (e) => {
        e.preventDefault();
        const card = summary.parentElement;
        openFromCard(card);
      });
    });

    function closeModal(popHistory=true) {
      modal.classList.remove('open');
      document.body.style.overflow = '';
      modalBody.innerHTML = '';
      if (lastTrigger) lastTrigger.focus();
      if (popHistory) {
        // remove ?post= param
        const url = new URL(window.location.href);
        url.searchParams.delete('post');
        history.pushState(null, '', url.toString());
      }
      currentSlug = null;
    }
    closeBtn.addEventListener('click', () => closeModal(true));
    modal.addEventListener('click', (e) => { if (e.target === modal) closeModal(true); });
    document.addEventListener('keydown', (e) => { if (e.key === 'Escape' && modal.classList.contains('open')) closeModal(true); });

    // Prevent native details opening
    document.querySelectorAll('details.card').forEach(d => {
      d.addEventListener('toggle', () => { if (d.open) d.removeAttribute('open'); });
    });

    // Deep-link: open if ?post=slug exists
    const params = new URLSearchParams(window.location.search);
    const initialSlug = params.get('post');
    if (initialSlug) {
      const card = document.querySelector('details.card[data-slug="' + initialSlug + '"]');
      if (card) openFromCard(card);
    }

    // Handle back/forward
    window.addEventListener('popstate', (evt) => {
      const params = new URLSearchParams(window.location.search);
      const slug = params.get('post');
      if (slug) {
        if (!modal.classList.contains('open') || slug !== currentSlug) {
          const card = document.querySelector('details.card[data-slug="' + slug + '"]');
          if (card) openFromCard(card);
        }
      } else {
        if (modal.classList.contains('open')) closeModal(false);
      }
    });
  })();
  </script>
</body>
</html>
