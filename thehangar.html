<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Faith Based Pilot – The Hangar</title>
  <meta name="color-scheme" content="dark light" />

  <style>
    :root{
      --accent:#4da3ff;
      --rule-dark:rgba(255,255,255,.10);
      --rule-light:rgba(0,0,0,.10);
      --ink:#fff; --inkL:#000;
      --panel:#161616; --panelL:#f7f7f7;
    }

    body{margin:0;padding:0;font-family:Arial, sans-serif;background:#111;color:#fff;}
    body.light{background:#fff;color:#000;}
    a{color:inherit}

    /* Header / Nav */
    .site-header{
      background:#1a1a1a;color:#fff;padding:12px 0;position:sticky;top:0;z-index:1000;
      border-bottom:1px solid rgba(255,255,255,.1);
    }
    body.light .site-header{background:#f0f0f0;color:#000;border-bottom:1px solid rgba(0,0,0,.1);}
    .container-nav{display:flex;align-items:center;justify-content:space-between;max-width:1100px;margin:0 auto;padding:0 16px;}
    .site-nav{display:flex;gap:1.25rem;flex-wrap:wrap;align-items:center;}
    .site-nav a{color:inherit;text-decoration:none;font-weight:bold;font-size:.95rem;position:relative;}
    .site-nav a::after{
      content:"";position:absolute;bottom:-4px;left:0;width:0%;height:2px;
      background-color:var(--accent);transition:width .3s ease;
    }
    .site-nav a:hover::after,.site-nav a:focus::after{width:100%;}
    body.light .site-nav a::after{background-color:#0073e6;}

    #themeToggle{
      width:36px;height:36px;cursor:pointer;object-fit:contain;
      filter:invert(1);transition:filter .3s ease;
    }
    body.light #themeToggle{filter:invert(0);}

    @media(max-width:600px){
      .container-nav{flex-direction:column;gap:.75rem;text-align:center;}
      .site-nav{gap:.75rem;justify-content:center;}
      #themeToggle{position:static;margin-top:4px;}
    }

    /* Page header */
    .container{width:min(1600px,98vw);margin:0 auto;padding:0 16px;}
    h1{text-align:center;margin:2rem 0 .25rem;}
    .lead{text-align:center;margin:0 0 1.5rem;color:var(--accent);font-weight:700;}

    /* Legend + controls row */
    .legend-row{
      display:flex;gap:12px;flex-wrap:wrap;justify-content:center;align-items:center;
      margin:1rem auto 1.5rem;
    }
    .legend{
      display:flex;gap:10px;flex-wrap:wrap;justify-content:center;align-items:center;
      font-size:.95rem;font-weight:bold;
    }
    .legend .key{
      display:inline-flex;align-items:center;gap:.5rem;padding:.35rem .6rem;border-radius:999px;
      border:1px solid rgba(255,255,255,.15)
    }
    body.light .legend .key{border-color:rgba(0,0,0,.12)}
    .swatch{width:14px;height:14px;border-radius:3px;display:inline-block}

    .controls{display:flex;gap:8px;align-items:center;}
    .btn{
      appearance:none;border:1px solid rgba(255,255,255,.25);background:#202020;color:#fff;
      padding:.45rem .8rem;border-radius:8px;font-size:.9rem;cursor:pointer;
    }
    .btn:hover{filter:brightness(1.1)}
    body.light .btn{background:#f5f5f5;color:#000;border-color:rgba(0,0,0,.2);}

    /* Cards grid */
    .grid{display:grid;grid-template-columns:repeat(3,minmax(280px,1fr));gap:20px;margin:1.5rem 0 3rem;}
    @media(max-width:1100px){.grid{grid-template-columns:repeat(2,minmax(0,1fr));}}
    @media(max-width:640px){.grid{grid-template-columns:1fr;}}

    .card{
      border-radius:14px; padding:14px; position:relative; overflow:hidden;
      color:#fff; box-shadow:0 3px 12px rgba(0,0,0,.25);
      display:flex;flex-direction:column;gap:.65rem; min-height:220px;
    }
    body.light .card{box-shadow:0 3px 12px rgba(0,0,0,.10);}
    .card h3{margin:.2rem 2.25rem .1rem .1rem;font-size:1.15rem;line-height:1.25;}
    .card p{margin:0;font-size:1rem;line-height:1.55;opacity:.95}
    .meta{font-size:.85rem;opacity:.85}

    /* Optional media */
    .media{width:100%;aspect-ratio:16/9;border-radius:10px;border:0;background:#000;overflow:hidden}
    .media iframe{width:100%;height:100%;border:0;display:block}

    /* Share FAB */
    .share-fab{
      position:absolute;top:10px;right:10px;width:36px;height:36px;border-radius:999px;
      display:inline-flex;align-items:center;justify-content:center;cursor:pointer;
      border:1px solid rgba(255,255,255,.35);background:rgba(0,0,0,.3);backdrop-filter: blur(6px);
      color:#fff;
    }
    .share-fab svg{width:18px;height:18px}

    /* Category themes (full-card) */
    .faith      { background:#1e3a8a; color:#fff; }
    .leadership { background:#92400e; color:#fff; }
    .culture    { background:#991b1b; color:#fff; }
    .warfare    { background:#581c87; color:#fff; }
    .reflection { background:#065f46; color:#fff; }

    .card h3, .card p, .card .meta, .card .share-fab { color:inherit; }

    /* Footer */
    footer.site-footer{font-size:.85rem;padding:2rem 0 3rem;color:gray;text-align:center;border-top:1px solid var(--rule-dark)}
    body.light footer.site-footer{border-top-color:var(--rule-light)}
    .social{display:flex;gap:1rem;justify-content:center;align-items:center;margin-bottom:1rem;flex-wrap:wrap}
    .social a{display:inline-flex;align-items:center;justify-content:center;width:36px;height:36px;border-radius:50%;color: currentColor;opacity:.9;transition:opacity .2s ease, transform .2s ease}
    .social a:hover{opacity:1;transform: translateY(-2px)}
    .social svg{width:22px;height:22px;display:block}
    .sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}
  </style>

  <link rel="preconnect" href="https://www.youtube.com">
  <link rel="preconnect" href="https://rumble.com">
</head>

<body>
  <!-- ===== NAV BAR ===== -->
  <header class="site-header">
    <div class="container-nav">
      <nav class="site-nav" aria-label="Primary">
        <a href="fbp.html">Home</a>
        <a href="youtube.html">YouTube</a>
        <a href="rumble.html">Rumble</a>
        <a href="https://faithbasedpilot.org" target="_blank" rel="noopener">Writings</a>
      </nav>
      <img id="themeToggle" src="images/fulllogo_transparent_nobuffer.png" alt="Toggle theme">
    </div>
  </header>

  <main class="container">
    <h1>The Hangar</h1>
    <p class="lead">All posts, color-coded by topic for fast scanning.</p>

    <!-- ===== LEGEND + CONTROLS ===== -->
    <div class="legend-row">
      <div class="legend" aria-label="Topic Legend">
        <span class="key"><span class="swatch" style="background:#1e3a8a"></span> Faith</span>
        <span class="key"><span class="swatch" style="background:#92400e"></span> Men’s Leadership</span>
        <span class="key"><span class="swatch" style="background:#991b1b"></span> Culture</span>
        <span class="key"><span class="swatch" style="background:#581c87"></span> Spiritual Warfare</span>
        <span class="key"><span class="swatch" style="background:#065f46"></span> Reflection</span>
      </div>
      <div class="controls">
        <button id="groupToggle" class="btn" aria-pressed="false">Group by topic</button>
      </div>
    </div>

    <!-- ===== CARDS GRID ===== -->
    <section class="grid" aria-label="Posts" id="grid">
      <article class="card faith" data-category="faith" id="post-when-man-takes-throne">
        <button class="share-fab" aria-label="Share post"
          data-title="When Man Takes God’s Throne — Faith Based Pilot"
          data-url="https://faithbasedpilot.net/thehangar.html#post-when-man-takes-throne">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round">
            <path d="M4 12v7a1 1 0 0 0 1 1h14a1 1 0 0 0 1-1v-7"/><path d="M16 6l-4-4-4 4"/><path d="M12 2v14"/>
          </svg>
        </button>
        <h3>When Man Takes God’s Throne</h3>
        <p class="meta">Topic: Faith</p>
        <div class="media">
          <iframe
            title="When Man Takes God’s Throne (YouTube)"
            src="https://www.youtube.com/embed/z12RHt5XLV4?rel=0&modestbranding=1"
            allowfullscreen loading="lazy"></iframe>
        </div>
        <p>How pride replaces dependence on God, and what Scripture says about returning Him to the rightful seat.</p>
      </article>

      <article class="card warfare" data-category="warfare" id="post-jezebelian-spirit">
        <button class="share-fab" aria-label="Share post"
          data-title="The Jezebelian Spirit — Faith Based Pilot"
          data-url="https://faithbasedpilot.net/thehangar.html#post-jezebelian-spirit">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round">
            <path d="M4 12v7a1 1 0 0 0 1 1h14a1 1 0 0 0 1-1v-7"/><path d="M16 6l-4-4-4 4"/><path d="M12 2v14"/>
          </svg>
        </button>
        <h3>The Jezebelian Spirit</h3>
        <p class="meta">Topic: Spiritual Warfare</p>
        <div class="media">
          <iframe
            title="The Jezebelian Spirit (Rumble)"
            src="https://rumble.com/embed/v6xevda/?pub=u4n98xk"
            loading="lazy" allowfullscreen></iframe>
        </div>
        <p>Recognizing manipulation, control, and the biblical response to false authority.</p>
      </article>

      <article class="card leadership" data-category="leadership" id="post-ahab-spirit">
        <button class="share-fab" aria-label="Share post"
          data-title="The Ahab Spirit — Faith Based Pilot"
          data-url="https://faithbasedpilot.net/thehangar.html#post-ahab-spirit">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round">
            <path d="M4 12v7a1 1 0 0 0 1 1h14a1 1 0 0 0 1-1v-7"/><path d="M16 6l-4-4-4 4"/><path d="M12 2v14"/>
          </svg>
        </button>
        <h3>The Ahab Spirit</h3>
        <p class="meta">Topic: Men’s Leadership</p>
        <p>How passivity in men invites dysfunction. God calls men to strength, clarity, and responsibility.</p>
      </article>

      <article class="card culture" data-category="culture" id="post-morality">
        <button class="share-fab" aria-label="Share post"
          data-title="Morality — Faith Based Pilot"
          data-url="https://faithbasedpilot.net/thehangar.html#post-morality">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round">
            <path d="M4 12v7a1 1 0 0 0 1 1h14a1 1 0 0 0 1-1v-7"/><path d="M16 6l-4-4-4 4"/><path d="M12 2v14"/>
          </svg>
        </button>
        <h3>Morality</h3>
        <p class="meta">Topic: Culture</p>
        <p>Why biblical standards don’t bend with the culture—and how to live that out with grace and conviction.</p>
      </article>

      <article class="card reflection" data-category="reflection" id="post-divine-plans">
        <button class="share-fab" aria-label="Share post"
          data-title="Divine Plans — Faith Based Pilot"
          data-url="https://faithbasedpilot.net/thehangar.html#post-divine-plans">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round">
            <path d="M4 12v7a1 1 0 0 0 1 1h14a1 1 0 0 0 1-1v-7"/><path d="M16 6l-4-4-4 4"/><path d="M12 2v14"/>
          </svg>
        </button>
        <h3>Divine Plans</h3>
        <p class="meta">Topic: Reflection</p>
        <p>Submission isn’t losing— it’s aligning with a better plan than we could craft on our own.</p>
      </article>

      <article class="card faith" data-category="faith" id="post-ecclesiastes">
        <button class="share-fab" aria-label="Share post"
          data-title="Ecclesiastes 1–2 — Faith Based Pilot"
          data-url="https://faithbasedpilot.net/thehangar.html#post-ecclesiastes">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round">
            <path d="M4 12v7a1 1 0 0 0 1 1h14a1 1 0 0 0 1-1v-7"/><path d="M16 6l-4-4-4 4"/><path d="M12 2v14"/>
          </svg>
        </button>
        <h3>Ecclesiastes 1–2</h3>
        <p class="meta">Topic: Faith</p>
        <div class="media">
          <iframe
            title="Ecclesiastes 1–2 (YouTube)"
            src="https://www.youtube.com/embed/J3e31U2RZUk?start=113&rel=0&modestbranding=1"
            allowfullscreen loading="lazy"></iframe>
        </div>
        <p>Vanity under the sun vs. meaning in God. A straight reading and application for today.</p>
      </article>
    </section>
  </main>

  <!-- ===== FOOTER ===== -->
  <footer class="site-footer">
    <nav class="social" aria-label="Social Links">
      <a href="https://www.instagram.com/faithbasedpilot/" target="_blank" rel="noopener" aria-label="Instagram">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round">
          <rect x="3" y="3" width="18" height="18" rx="5"/><circle cx="12" cy="12" r="4.2"/>
          <circle cx="17.2" cy="6.8" r="1.2" fill="currentColor" stroke="none"/></svg>
        <span class="sr-only">Instagram</span>
      </a>
      <a href="https://www.facebook.com/profile.php?id=100093368342398" target="_blank" rel="noopener" aria-label="Facebook">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round">
          <circle cx="12" cy="12" r="10"/><path d="M13 8h-1.2A2.8 2.8 0 0 0 9 10.8V19"/><path d="M10 13h3.2"/></svg>
        <span class="sr-only">Facebook</span>
      </a>
      <a href="https://x.com/FaithBasedPilot" target="_blank" rel="noopener" aria-label="X (Twitter)">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M4 4l16 16M20 4L4 20"/></svg>
        <span class="sr-only">X (Twitter)</span>
      </a>
      <a href="https://truthsocial.com/@FaithBasedPilot" target="_blank" rel="noopener" aria-label="Truth Social">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round">
          <circle cx="12" cy="12" r="10"/><path d="M8 8h8M12 8v8"/></svg>
        <span class="sr-only">Truth Social</span>
      </a>
      <a href="https://www.youtube.com/@FaithBasedPilot" target="_blank" rel="noopener" aria-label="YouTube">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round">
          <rect x="3" y="7" width="18" height="10" rx="4"/><path d="M11 10l4 2-4 2v-4z" fill="currentColor" stroke="none"/></svg>
        <span class="sr-only">YouTube</span>
      </a>
      <a href="https://rumble.com/c/c-7796604" target="_blank" rel="noopener" aria-label="Rumble">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round">
          <circle cx="12" cy="12" r="9.5"/><path d="M10 9l5 3-5 3V9z" fill="currentColor" stroke="none"/></svg>
        <span class="sr-only">Rumble</span>
      </a>
    </nav>
    <div>© <span id="year"></span> Faith Based Pilot — FaithBasedPilot.net</div>
  </footer>

  <!-- ===== SCRIPTS ===== -->
  <script>
    (function(){
      const body = document.body;
      const toggleEl = document.getElementById('themeToggle');

      // Theme restore + toggle
      const savedTheme = localStorage.getItem('theme');
      if (savedTheme === 'light') body.classList.add('light');
      function toggleTheme(){
        body.classList.toggle('light');
        localStorage.setItem('theme', body.classList.contains('light') ? 'light' : 'dark');
      }
      if(toggleEl){
        toggleEl.addEventListener('click', toggleTheme);
        toggleEl.setAttribute('role', 'button');
        toggleEl.setAttribute('aria-label', 'Toggle color theme');
        toggleEl.setAttribute('tabindex', '0');
        toggleEl.addEventListener('keydown', (e)=>{
          if(e.key==='Enter' || e.key===' '){ e.preventDefault(); toggleTheme(); }
        });
      }

      // Auto year (matches fbp.html behavior)
      document.getElementById('year').textContent = new Date().getFullYear();

      // Share buttons (native / copy fallback)
      document.querySelectorAll('.share-fab').forEach(btn=>{
        btn.addEventListener('click', async ()=>{
          const title = btn.dataset.title || document.title;
          const url = btn.dataset.url || location.href;
          if (navigator.share){
            try { await navigator.share({ title, url }); }
            catch { /* user canceled */ }
          } else {
            try { await navigator.clipboard.writeText(url); }
            catch { window.open(url, '_blank', 'noopener'); }
          }
        });
      });

      // ===== Group by topic toggle =====
      const grid = document.getElementById('grid');
      const cards = Array.from(grid.children);
      const originalOrder = cards.slice(); // preserve DOM order
      const catOrder = ['faith','leadership','culture','warfare','reflection'];
      const groupToggle = document.getElementById('groupToggle');

      function groupByTopic(){
        const grouped = catOrder.flatMap(cat =>
          cards.filter(c => (c.dataset.category || '').toLowerCase() === cat)
        );
        // append any uncategorized at end
        const remainder = cards.filter(c => !catOrder.includes((c.dataset.category||'').toLowerCase()));
        [...grouped, ...remainder].forEach(c => grid.appendChild(c));
      }
      function restoreOrder(){
        originalOrder.forEach(c => grid.appendChild(c));
      }

      // restore last choice
      const savedGrouping = localStorage.getItem('hangarGrouping') === 'topic';
      if (savedGrouping){ groupByTopic(); groupToggle.setAttribute('aria-pressed', 'true'); groupToggle.textContent = 'Show original order'; }

      groupToggle.addEventListener('click', ()=>{
        const pressed = groupToggle.getAttribute('aria-pressed') === 'true';
        if (pressed){
          restoreOrder();
          groupToggle.setAttribute('aria-pressed', 'false');
          groupToggle.textContent = 'Group by topic';
          localStorage.setItem('hangarGrouping','original');
        } else {
          groupByTopic();
          groupToggle.setAttribute('aria-pressed', 'true');
          groupToggle.textContent = 'Show original order';
          localStorage.setItem('hangarGrouping','topic');
        }
      });
    })();
  </script>
</body>
</html>
